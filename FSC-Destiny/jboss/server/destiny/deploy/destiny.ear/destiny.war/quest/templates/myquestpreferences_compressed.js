Class.create(BaseController,{init:function(){var a=Registry.lookup("MyQuestController.Loader");$("myQuestMainContentWrapper").className="myQuestPref"},registerEvents:function(){Event.observe("myQuestMainContent","click",this.savePreference.bindAsEventListener(this))},savePreference:function(b){var e=Event.element(b);if(e.hasClassName("myQuestPreferencesControler")){var a=e.identify();var d=$F(a);if(!d||d.empty()||d=="no"){d=false}else{d=true}var c=Utility.downToClass(e.up().up(),"myQuestSavedAlert");if(!this.preferencesAnimations){this.preferencesAnimations=[]}if(this.preferencesAnimations[a]){this.preferencesAnimations[a].cancel()}c.show();c.setStyle({opacity:1});this.preferencesAnimations[a]=new Effect.Fade(c,{duration:3});DAO.load({endpoint:"MyQuestPreferencesController.PreferenceUpdate",container:null},e.getAttribute("name"),d)}}});