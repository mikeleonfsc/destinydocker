Class.create(BaseController,{init:function(a){if(!a){this.loadDatabase(this.data.recID)}},registerEvents:function(){var a=this.modal.closeDialog.bind(this.modal);Event.observe(this.elementMap.get(OneSearchController_BUTTON_ONESEARCH_DBDETAIL_CLOSE),"mousedown",a)},preloadDialog:function(){if(!Object.isElement(this.modal.contentDiv)||!Object.isElement(this.modal.contentDiv.parentNode)){var a=this.modal.options;this.modal=new ModalDialog(a);this.container=this.modal.contentDiv;this.currentPage=null;this.setPage(0)}this.modal.show();this.showLoadingGraphic()},showLoadingGraphic:function(){this.elementMap.get(OneSearchController_DIV_DBDETAIL_LOADING).show();this.elementMap.get(OneSearchController_DIV_DBDETAIL_CONTENT_INNER).update("")},loadDatabase:function(a){this.data.recID=a;this.preloadDialog();DAO.load({endpoint:"OneSearchController.DatabaseDetail",container:this.elementMap.get(OneSearchController_DIV_DBDETAIL_CONTENT_INNER)},this.data.recID)},nextOneSearchPage:function(){if(DAO.load({endpoint:"OneSearchController.DatabaseDetail",container:this.elementMap.get(OneSearchController_DIV_DBDETAIL_CONTENT_INNER)},this.data.recID,true)){this.showLoadingGraphic()
}},previousOneSearchPage:function(){if(DAO.load({endpoint:"OneSearchController.DatabaseDetail",container:this.elementMap.get(OneSearchController_DIV_DBDETAIL_CONTENT_INNER)},this.data.recID,false)){this.showLoadingGraphic()}},reloadCurrent:function(){if(DAO.load({endpoint:"OneSearchController.DatabaseDetail",container:this.elementMap.get(OneSearchController_DIV_DBDETAIL_CONTENT_INNER)},this.data.recID,null,true)){this.showLoadingGraphic()}},loadOtherLink:function(a){if(DAO.load({endpoint:"OneSearchController.DatabaseDetail",container:this.elementMap.get(OneSearchController_DIV_DBDETAIL_CONTENT_INNER)},this.data.recID,null,null,a)){this.showLoadingGraphic()}},notifyDataLoaded:function(){this.modal.centerDialog();this.elementMap.get(OneSearchController_DIV_DBDETAIL_LOADING).hide()}});