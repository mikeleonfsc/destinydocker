Class.create(BaseController,{init:function(b){var a=Registry.lookup("NewArrivalsController.Loader");if(!b){a.hideLoading()}if(this.hasNextPage()){a.showNextButton()}else{a.hideNextButton()}if(this.hasPreviousPage()){a.showPreviousButton()}else{a.hidePreviousButton()}if(Object.isArray(this.data.recList)){var c=Registry.lookup("HoverMasterController.HoverMaster");this.hoverGroup=c.createGroup({name:this.name,data:this.data.recList,activatorContainer:this.container,hoverContainer:$("content-outer"),controllerURL:this.data.hoverControllerURL,templateURL:this.data.hoverTemplateURL,openDelay:0.5,closeDelay:0.1,onShow:function(h,g){var f=h.up("#"+NewArrivalsController_DIV_NEW_ARRIVALS_LOADED);if(Object.isElement(f)){var e=f.select(".high-zindex");if(Object.isArray(e)){for(i=0;i<e.length;i++){if(Object.isElement(e[i])){e[i].removeClassName("high-zindex")}}}}var d=h.up("."+NewArrivalsController_CLASS_TITLE_DETAIL_SUGGESTION);if(Object.isElement(d)){d.addClassName("high-zindex")}$("content-outer").addClassName("high-zindex");
$("newArrivalsMain").addClassName("high-zindex")},onHide:function(f,e){var d=f.up("."+NewArrivalsController_CLASS_TITLE_DETAIL_SUGGESTION);if(Object.isElement(d)){d.removeClassName("high-zindex")}$("content-outer").removeClassName("high-zindex");$("newArrivalsMain").removeClassName("high-zindex")}})}},registerEvents:function(d){var e=Registry.lookup("TitleDetailsController.Master");if(Object.isArray(this.data.recList)){for(var c=0;c<this.data.recList.length;c++){var a=NewArrivalsController_SPAN_NEW_ARRIVALS_ITEM_PREFIX+(c+(this.data.pageNumber*5));var b=e.loadTitleDetails.bind(e,this.data.recList[c].bibID,null);Event.observe(this.elementMap.get(a),"mousedown",b)}}},updateSearchResults:function(IDs,key,value,propertyToUpdate){var pagedData=this.pagedData;for(var i=0;i<pagedData.length;i++){var records=pagedData[i].recList;for(var j=0;j<records.length;j++){var record=records[j];if(IDs&&IDs.indexOf(eval("record."+key))>=0){record[propertyToUpdate]=value}}}}});