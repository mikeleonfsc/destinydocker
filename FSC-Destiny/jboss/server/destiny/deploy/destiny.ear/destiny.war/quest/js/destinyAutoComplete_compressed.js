Class.create(BaseDestinyAutoCompleter,{initialize:function($super,a,d,b,c){$super(a,d,{minChars:c,updateElement:function(f){if(f){$(a).value=Utility.downToClass(f,"suggestionText").innerHTML}this.onHide(a,d);this.updated=true;var e=Registry.lookup("SearchBoxController.SearchBox");if(Object.isFunction(e.submitSearch)){e.submitSearch()}}});this.endPoint=b;this.enable()},fixIEOverlapping:function($super){$super();this.update.style.zIndex=9000},updateChoices:function(){if(!this.changed&&this.hasFocus){Element.cleanWhitespace(this.update);if(this.update.firstChild){Element.cleanWhitespace(this.update.down())}if(this.update.firstChild&&this.update.down().childNodes){this.entryCount=this.update.down().childNodes.length;for(var a=0;a<this.entryCount;a++){var b=this.getEntry(a);b.autocompleteIndex=a;this.addObservers(b)}}else{this.entryCount=0}this.stopIndicator();this.index=-1;if(this.entryCount==1&&this.options.autoSelect){this.selectEntry();this.hide()}else{this.render()}}this.updated=false;this.update.style.opacity=null
},getEntry:function(a){if(a<0){return null}return this.update.firstChild.childNodes[a]},getUpdatedChoices:function($super){if(this.enabled&&this.oldElementValue!=this.element.value){DAO.load({endpoint:this.endPoint,container:this.update},this.getToken())}},markPrevious:function($super){if(this.index>0){this.index--}else{this.index=this.entryCount-1}this.getEntry(this.index).scrollIntoView(false)},onClick:function($super,a){$super(a)},enable:function(){this.enabled=true},disable:function(){this.enabled=false}});